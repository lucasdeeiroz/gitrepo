"use strict";var app,serviceInterceptor;angular.module("filters",[]);angular.module("filters").filter("between",function(){return function(n,t,i){return n?n.slice(+t,+i):[]}});angular.module("filters").filter("moment",function(){return function(n,t){if(n){var i=moment().utcOffset()-(moment().utcOffset()+1);return moment(n).utcOffset(i).format(t||"DD/MM/YYYY")}return""}});angular.module("filters").filter("momentd",function(){return function(n,t){if(n){var r=moment().utcOffset()-(moment().utcOffset()+1),u=moment(n).utcOffset(r).format(t||"DD/MM/YYYY"),i=u.split("/");return i[0]+" de "+["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][+i[1]-1]+" de "+i[2]}return""}});app=angular.module("services",["ngResource","ngRoute","ngTouch","ngAnimate","services.interceptor"]);app.config(["$routeProvider","$httpProvider",function(n,t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]);serviceInterceptor=angular.module("services.interceptor",[]);serviceInterceptor.provider("$HttpTransform",function(){var n=!1,t=0;return{$get:function(){return{load:function(){n=!0;t++},loading:function(){return n},stop:function(){t--;t<=0&&(n=!1)}}}}});serviceInterceptor.factory("$RequestInterceptor",["$HttpTransform","$q",function(n,t){return{request:function(t){if(n.load(),t.method==="GET"&&(t.headers["Cache-Control"]="max-age=0,no-cache, must-revalidate",t.headers.Pragma="no-cache",devmasterteam.internet_explorer)){var i=(new Date).getTime(),r=t.url.indexOf("?")>0?"&nocache="+i:"?nocache="+i;t.url+=r}return t},response:function(t){return n.stop(),t},responseError:function(i){return n.stop(),t.reject(i)}}}]);serviceInterceptor.config(["$httpProvider","$HttpTransformProvider",function(n){n.interceptors.push("$RequestInterceptor")}]),function(){angular.module("services").factory("ContactModel",["$resource",function(n){return n(api_url("Contact"),{port:get_port()},{save:{method:"POST",params:{action:"save"},isArray:!1}})}])}(),function(){angular.module("services").factory("PostModel",["$resource",function(n){return n(api_url("Post"),{port:get_port()},{getList:{method:"GET",params:{action:"GetList"},isArray:!1},getLatest:{method:"GET",params:{action:"GetLatest"},isArray:!1},getPublished:{method:"GET",params:{action:"GetPublished"},isArray:!1},getRelated:{method:"GET",params:{action:"GetRelated"},isArray:!1},getPostAssociateTag:{method:"GET",params:{action:"GetPostAssociateTag"},isArray:!1},load:{method:"GET",params:{action:"Load"},isArray:!1},loadVisualization:{method:"GET",params:{action:"LoadVisualization"},isArray:!1},createPermalink:{method:"POST",params:{action:"CreatePermalink"},isArray:!1},save:{method:"POST",params:{action:"Save"},isArray:!1},update:{method:"POST",params:{action:"Update"},isArray:!1},"delete":{method:"POST",params:{action:"Delete"},isArray:!1}})}])}(),function(){angular.module("services").factory("SuggestionModel",["$resource",function(n){return n(api_url("Suggestion"),{port:get_port()},{save:{method:"POST",params:{action:"save"},isArray:!1},getList:{method:"GET",params:{action:"getList"},isArray:!1}})}])}(),function(){angular.module("services").factory("TagModel",["$resource",function(n){return n(api_url("Tag"),{port:get_port()},{getList:{method:"GET",params:{action:"getList"},isArray:!1}})}])}();angular.module("directives",["filters","ngSanitize"]);angular.module("directives").directive("backToTop",[function(){return{restrict:"E",scope:{},replace:!0,templateUrl:template_url("backtotop"),link:function(n,t){$(window).scroll(function(){$(window).scrollTop()>10?$(t).addClass("ooo"):$(t).removeClass("ooo")});$(t).find(".square").click(function(){$("html, body").animate({scrollTop:"0px"})});$(window).trigger("scroll")}}}]);angular.module("directives").directive("caractersLeft",[function(){return{restrict:"E",scope:{value:"=model",max:"=",associatedid:"="},replace:!0,template:'<div class="characters-left" ng-model="value">{{count}} {{description}}<\/div>',link:function(n){n.count=n.max;n.description="caracteres restantes";n.$watch("value",function(t,i){if(t!=i&&t){var r=t.length;r>n.max?n.value=n.value.substring(0,n.max):(n.count=n.max-t.length,n.count>1?n.description="caracteres restantes":n.count==1?n.description="caracter restante":(n.description="Nenhum caracter restante",n.count=undefined))}})}}}]);angular.module("directives").directive("courseBanner",[function(){return{restrict:"E",scope:{},replace:!0,templateUrl:template_url("coursebanner"),link:function(){}}}]);angular.module("directives").directive("datepicker",[function(){return{restrict:"A",scope:{},replace:!1,link:function(n,t){$(t).datepicker({format:"dd/mm/yyyy",todayBtn:"linked",language:"pt-BR",autoclose:!0,todayHighlight:!0});$(t).mask("00/00/0000")}}}]);angular.module("directives").directive("fieldNotification",[function(){return{restrict:"A",link:function(n,t,i){n.$watch(i.fieldNotification,function(n,i){if(n!=i){if(!n){$(t).removeClass("has-error").removeClass("has-warning").removeClass("has-success");return}n.toLowerCase()=="error"?$(t).toggleClass("has-error"):n.toLowerCase()=="warning"||n.toLowerCase()=="alert"?$(t).toggleClass("has-warning"):n.toLowerCase()=="success"&&$(t).toggleClass("has-success");$(t).focus()}})}}}]);angular.module("directives").directive("formDisable",[function(){return{restrict:"A",link:function(n,t,i){n.$watch(i.formDisable,function(n){t.find("input, select, textarea").each(function(){var t=$(this);n?t.attr("disabled","disabled"):t.removeAttr("disabled")})})}}}]);angular.module("directives").directive("grid",["$http",function(n){return{restrict:"A",link:function(t,i,r){function f(i,r){r||(r=e);n.defaults.headers.common.CurrentPage=t.gridPager.current_page||0;n.defaults.headers.common.PageSize=t.gridPager.page_size||10;n.defaults.headers.common.SortField=i===undefined?"":i;n.defaults.headers.common.SortDir=r==="up"?"Descending":"Ascending";t.safeApply(t.$eval(u))}function o(){function n(){$(".sort").removeClass("sort sort-up sort-down")}i.addClass("table-panel");var t=i.find("thead");t.find("tr th").not(":empty").not(".prevent-sort").click(function(t){t.preventDefault();var i=$(this),u=i.data("field"),r=i.data("sort");n();r&&r!=="down"?r==="up"&&(i.addClass("sort sort-down"),i.data("sort","down")):(i.addClass("sort sort-up"),i.data("sort","up"));f(u,i.data("sort"))})}var u=angular.noop,e=r.sorting||"up";t.safeApply=function(n){var t=this.$root.$$phase;t=="$apply"||t=="$digest"?n&&typeof n=="function"&&n():this.$apply(n)};r.$observe("grid",function(n){u=n});r.$observe("gridPager",function(n){n&&(t.gridPager=t.$eval(n)||{current_page:0,page_size:10},f())});o()}}}]);angular.module("directives").directive("gridPager",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:template_url("gridPager",!1),scope:{total:"=",model:"=ngModel",hidePagesCombo:"=",pageSize:"="},link:function(n,t,i){n.total=n.total||0;n.total_pages=0;n.page_offset=i.pageOffset||10;n.page_size=10;n.current_page=0;n.current_page_offset=1;n.activeClass=i.activeClass;n.hasActiveClass=function(t){return t.active?n.activeClass:""};n.create_pages=function(){var i=[],t;if(n.total_pages>=2)for(t=0;t<n.total_pages;t++)i.push({number:t+1,active:t===n.current_page});n.pages=i};n.update_total_pages=function(){n.total_pages=Math.ceil(n.total/n.page_size)};n.change_page=function(t){n.current_page=t;n.model={current_page:n.current_page,page_size:n.page_size};n.update_total_pages()};n.change_total_page=function(){n.current_page_offset=1;n.change_page(0)};n.next_page=function(){n.current_page!=n.total_pages-1&&n.change_page(n.current_page+1)};n.prev_page=function(){n.current_page>0&&n.change_page(n.current_page-1)};n.next_offset=function(){n.current_page_offset++;n.change_page(n.page_start())};n.prev_offset=function(){n.current_page_offset--;n.change_page(n.page_end()-1)};n.page_start=function(){return n.page_offset*(n.current_page_offset-1)};n.page_end=function(){return n.page_offset*n.current_page_offset};n.$watch("[total, total_pages, current_page]",function(){n.update_total_pages();n.create_pages()},!0);n.$watch("model",function(t){t&&(n.model=t,n.current_page=t.current_page,n.page_size=t.page_size,n.update_total_pages(),n.create_pages())},!0);n.pageSizes=[{value:10,text:"10 itens por página"},{value:15,text:"15 itens por página"},{value:20,text:"20 itens por página"},{value:30,text:"30 itens por página"},{value:40,text:"40 itens por página"},{value:50,text:"50 itens por página"}];n.model={current_page:0,page_size:n.pageSize||10}}}}]);angular.module("directives").directive("gridPagerPost",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:template_url("gridPagerPost",!1),scope:{total:"=",model:"=ngModel",hidePagesCombo:"=",pageSize:"="},link:function(n,t,i){n.total=n.total||0;n.total_pages=0;n.page_offset=i.pageOffset||10;n.page_size=10;n.current_page=0;n.current_page_offset=1;n.activeClass=i.activeClass;n.hasActiveClass=function(t){return t.active?n.activeClass:""};n.create_pages=function(){var i=[],t;if(n.total_pages>=2)for(t=0;t<n.total_pages;t++)i.push({number:t+1,active:t===n.current_page});n.pages=i};n.update_total_pages=function(){n.total_pages=Math.ceil(n.total/n.page_size)};n.change_page=function(t){n.current_page=t;n.model={current_page:n.current_page,page_size:n.page_size};n.update_total_pages()};n.change_total_page=function(){n.current_page_offset=1;n.change_page(0)};n.next_page=function(){n.current_page!=n.total_pages-1&&n.change_page(n.current_page+1)};n.prev_page=function(){n.current_page>0&&n.change_page(n.current_page-1)};n.next_offset=function(){n.current_page_offset++;n.change_page(n.page_start())};n.prev_offset=function(){n.current_page_offset--;n.change_page(n.page_end()-1)};n.page_start=function(){return n.page_offset*(n.current_page_offset-1)};n.page_end=function(){return n.page_offset*n.current_page_offset};n.$watch("[total, total_pages, current_page]",function(){n.update_total_pages();n.create_pages()},!0);n.$watch("model",function(t){t&&(n.model=t,n.current_page=t.current_page,n.page_size=t.page_size,n.update_total_pages(),n.create_pages())},!0);n.model={current_page:0,page_size:n.pageSize||10}}}}]);angular.module("directives").directive("gridpost",["$http",function(n){return{restrict:"A",link:function(t,i,r){function f(i,r){r||(r=e);n.defaults.headers.common.CurrentPage=t.gridPager.current_page||0;n.defaults.headers.common.PageSize=t.gridPager.page_size||10;n.defaults.headers.common.SortField=i===undefined?"":i;n.defaults.headers.common.SortDir=r==="up"?"Descending":"Ascending";t.safeApply(t.$eval(u))}function o(){function n(){$(".sort").removeClass("sort sort-up sort-down")}i.addClass("table-panel");var t=i.find("thead");t.find("tr th").not(":empty").not(".prevent-sort").click(function(t){t.preventDefault();var i=$(this),u=i.data("field"),r=i.data("sort");n();r&&r!=="down"?r==="up"&&(i.addClass("sort sort-down"),i.data("sort","down")):(i.addClass("sort sort-up"),i.data("sort","up"));f(u,i.data("sort"))})}var u=angular.noop,e=r.sorting||"up";t.safeApply=function(n){var t=this.$root.$$phase;t=="$apply"||t=="$digest"?n&&typeof n=="function"&&n():this.$apply(n)};r.$observe("gridpost",function(n){u=n});r.$observe("gridPagerPost",function(n){n&&(t.gridPager=t.$eval(n)||{current_page:0,page_size:10},f())});o()}}}]);angular.module("directives").directive("loadingBar",["$HttpTransform",function(n){return{restrict:"E",replace:!1,scope:{},link:function(t){t.loader=n;t.$watch("loader.loading()",function(n){n===!0?NProgress.start():n===!1&&NProgress.done()})}}}]);angular.module("directives").directive("newsletterContact",["ContactModel",function(n){return{restrict:"E",scope:{},replace:!0,templateUrl:template_url("newslettercontact"),link:function(t){function i(){if(t.Contact.email){t.ContactValidate.email=undefined;if(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t.Contact.email))t.ContactValidate.email=undefined;else return t.ContactValidate.email={Message:"E-mail não está no formato correto!",ElementId:"emailcontact"},!1}else return t.ContactValidate.email={Message:"Por favor, preencha seu e-mail!",ElementId:"emailcontact"},!1;return!0}function r(){t.ContactValidate={email:""};t.Contact={email:""}}t.subscribeContact=function(){i()&&n.save({resource:t.Contact},function(n){n.Result?($.notify.success({message:"Obrigado por se registrar. Você receberá as novidades!",horizontal:"right"}),t.Contact.email=""):$.notify.alert({message:n.Message,horizontal:"right"})})};r()}}}]);angular.module("directives").directive("ngEnter",[function(){return{link:function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter)}),t.preventDefault())})}}}]);angular.module("directives").directive("relatedPosts",["PostModel",function(n){return{restrict:"E",replace:!0,templateUrl:template_url("relatedPosts"),scope:{id:"="},link:function(t){t.$watch("id",function(i,r){i!=r&&n.getRelated({id:t.id},function(n){t.relatedPosts=n.Resource})})}}}]);angular.module("directives").directive("select2",["$timeout",function(n){var t={dropdownAutoWidth:!1,placeholder:""};return{require:"ngModel",scope:{model:"=ngModel"},compile:function(i,r){var f,u,o,e=i.is("select"),s=r.multiple!==undefined;return i.is("select")&&(u=i.find("option[ng-repeat], option[data-ng-repeat]"),u.length&&(o=u.attr("ng-repeat")||u.attr("data-ng-repeat"),f=$.trim(o.split("|")[0]).split(" ").pop())),function(i,r,u,o){var h=angular.extend({},t,i.$eval(u.select2)),c;e?(delete h.multiple,delete h.initSelection):s&&(h.multiple=!0);o&&(o.$render=function(){e?r.select2("val",o.$viewValue):s?o.$viewValue?angular.isArray(o.$viewValue)?(r.select2("data",o.$viewValue),o.$viewValue.length&&r.select2("val",o.$viewValue)):r.select2("val",o.$viewValue):r.select2("data",[]):angular.isObject(o.$viewValue)?(r.select2("data",o.$viewValue),r.select2("val",o.$viewValue)):o.$viewValue?r.select2("val",o.$viewValue):r.select2("data",null)},f&&i.$watch(f,function(t){t&&n(function(){r.select2("val",o.$viewValue);r.trigger("change")})}),o.$parsers.push(function(n){var t=r.prev();return t.toggleClass("ng-invalid",!o.$valid).toggleClass("ng-valid",o.$valid).toggleClass("ng-invalid-required",!o.$valid).toggleClass("ng-valid-required",o.$valid).toggleClass("ng-dirty",o.$dirty).toggleClass("ng-pristine",o.$pristine),n}),r.bind("change",function(){i.$$phase||i.$apply(function(){var n=r.select2("val");n&&o.$setViewValue(n)})}),h.initSelection&&(c=h.initSelection,h.initSelection=function(n,t){c(n,function(n){r.select2("data",n);r.select2("val",n.text);o.$setViewValue(n);t(n)})}));i.$watch("model",function(n){n&&r.select2("val",n)});u.$observe("disabled",function(n){r.select2("enable",!n)});u.ngMultiple&&i.$watch(u.ngMultiple,function(){r.select2(h)});n(function(){if(r.select2(h),r.val(o.$viewValue),o.$render(),!h.initSelection&&!e){var n=r.select2("data");n&&(n=$.map(r.select2("data"),function(n){return n.id}),o.$setViewValue(n))}})}}}}]);angular.module("directives").directive("validationMessage",[function(){return{restrict:"E",replace:!0,templateUrl:template_url("validationMessage"),scope:{properties:"="},link:function(n,t){n.$watch("properties",function(i,r){if(i!=r){if(i)$(t).addClass("active"),$("#"+i.ElementId).addClass("has-error"),n.message=i.Message;else{$(t).parent().find("input").removeClass("has-error");$(t).removeClass("active");return}$("#"+i.ElementId).focus()}})}}}])